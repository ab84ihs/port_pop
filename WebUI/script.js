!function(t){t(function(){function e(){const e=t("#global-head").outerHeight();document.documentElement.style.setProperty("--header-h",e+"px")}e(),t(window).on("resize",e),t(".sub-menu.is-active .sub-menu-nav").show(),t(".sub-menu-head").on("click",function(){var e=t(this).next(".sub-menu-nav");return e.is(":visible")?(e.velocity("slideUp",{duration:200}),t(this).parent("li").removeClass("is-active")):(e.velocity("slideDown",{duration:200}),t(this).parent("li").addClass("is-active")),!1}),t("#nav-toggle").on("click",function(){t("body").toggleClass("close")}),t("#popupBtn").on("click",function(){t("#myPopup").fadeIn().addClass("show")}),t("#myPopup").on("click",function(e){e.target===this&&t(this).fadeOut().removeClass("show")}),t("#close").on("click",function(){t("#myPopup").fadeOut().removeClass("show")})})}(jQuery),$(document).ready(function(){let t=null;$(document).on("click",".table.delete-btn",function(){$(this).closest("tr").remove()}),$(document).on("click","#addRowBtn",function(){const e=$("#newCol1").val().trim(),o=$("#newCol2").val(),n=$("#newCol3").val().trim(),s=$("#newCol4").val().trim(),l=Number(n),i=Number(s),u=Number.isInteger(l)&&l>=0&&l<=65535&&i>=0&&i<=65535;if(!/^(10\.(\d{1,3}\.){2}\d{1,3})$|^(172\.(1[6-9]|2\d|3[0-1])\.(\d{1,3})\.(\d{1,3}))$|^(192\.168\.(\d{1,3})\.(\d{1,3}))$/.test(e)||!u)return void $("#errorMsg").text("入力範囲外です");$("#editableTable tbody tr").not("#inputRow").toArray().some(t=>{const o=$(t).find("td");return o.eq(0).text()===e&&o.eq(3).text()===s||o.eq(2).text()===n})?$("#errorMsg").text("既存ルールと重複しています"):($("#errorMsg").text("​"),t={col1:e,col2:o,col3:n,col4:s},$("#confirmPopup").fadeIn().addClass("show"))}),$("#popupYes").on("click",function(){if(!t)return;const{col1:e,col2:o,col3:n,col4:s}=t,l=`\n            <tr class="table">\n                <td>${e}</td>\n                <td>${o}</td>\n                <td>${n}</td>\n                <td>${s}</td>\n                <td><button class="table delete-btn">削除</button></td>\n            </tr>\n        `;$("#editableTable tbody").append(l),"192.168.1.3"!==e||"UDP"!==o&&"TCP/UDP"!==o||3478!==Number(n)||3478!==Number(s)||$("#FinishPopup").fadeIn().addClass("show"),$("#newCol1").val(""),$("#newCol3").val(""),$("#newCol4").val(""),$("#confirmPopup").fadeOut().removeClass("show"),t=null}),$("#popupNo").on("click",function(){$("#confirmPopup").fadeOut().removeClass("show"),t=null});let e=!0;$("#FinishPopup").hasClass("show")&&(e=!1);let o=!1;$("#GiveupPopup").on("click",function(t){t.target===this&&o&&$(this).fadeOut().removeClass("show")}),$(document).on("click",".giveup-btn",function(){$("#GiveupPopup").fadeIn().addClass("show"),o=!0}),function(){const t=Date.now();!function n(){if(Date.now()-t>=6e5){if(!e)return;$("#GiveupPopup").fadeIn().addClass("show"),o=!1,setTimeout(function(){o=!0},3e3),$("#dummyBtn").addClass("giveup-btn").attr("title","結果を再表示")}else setTimeout(n,1e3)}()}(),$(document).on("click",".delete-btn",function(){$(this).closest("tr").remove()})});